import{d as b,J as h,j as y,Q as B,R as w,m as g,T as C,U as c,L as m,c as V,a as r,w as d,u as t,W as E,o as F,e,X as i,Y as _,Z as u,K as U}from"./index.cb979ff8.js";const k={class:"flex-col mb-40 flex-center"},I=e("h1",{class:"pt-10 text-3xl"},"\u6703\u54E1\u8CC7\u6599\u4FEE\u6539",-1),q={class:"flex flex-col items-end space-y-5"},D={class:"items-start space-x-5 flex-center"},S=e("label",{for:"name"},"\u540D\u5B57",-1),L={class:"flex flex-col space-y-2"},M={class:"items-start space-x-5 flex-center"},N=e("label",{for:"email"},"\u4FE1\u7BB1",-1),P={class:"flex flex-col space-y-2"},R={class:"items-start space-x-5 flex-center"},T=e("label",{for:"password"},"\u65B0\u5BC6\u78BC",-1),j={class:"flex flex-col space-y-2"},A=e("div",{class:"flex flex-col space-y-2 text-center"},[e("button",{class:"p-2 border rounded border-primary",type:"submit"}," Submit ")],-1),Q=b({__name:"Info",setup(J){const p=U(),n=h(),a=y({id:0,email:"",name:""});B(w),g(()=>{v()});const f=C().shape({name_vaildate:c().required().label("\u540D\u5B57"),email_vaildate:c().required().email().label("\u4FE1\u7BB1"),password_vaildate:c().required().min(8).label("\u5BC6\u78BC")});async function v(){try{const{data:l}=await m.getCurrentUser();a.value=l.data.user.userData}catch(l){console.log("err",l),n.error(l.response.data.message)}}async function x(l){try{const{data:s}=await m.putUser(a.value.id,{name:a.value.name,email:a.value.email,password:l.password_vaildate});n.success("\u66F4\u65B0\u6210\u529F",{timeout:1e3}),p.push("/signIn")}catch(s){console.log("err",s),n.error(s.response.data.message)}}return(l,s)=>(F(),V("main",k,[r(t(E),{class:"flex-col space-y-10 w-[500px] flex-center",onSubmit:x,"validation-schema":t(f)},{default:d(()=>[I,e("div",q,[e("div",D,[S,e("div",L,[r(t(i),{modelValue:a.value.name,"onUpdate:modelValue":s[0]||(s[0]=o=>a.value.name=o),name:"name_vaildate"},{default:d(({field:o})=>[e("input",_(o,{class:"border border-black"}),null,16)]),_:1},8,["modelValue"]),r(t(u),{name:"name_vaildate",class:"error-style"})])]),e("div",M,[N,e("div",P,[r(t(i),{modelValue:a.value.email,"onUpdate:modelValue":s[1]||(s[1]=o=>a.value.email=o),name:"email_vaildate"},{default:d(({field:o})=>[e("input",_(o,{class:"border border-black"}),null,16)]),_:1},8,["modelValue"]),r(t(u),{name:"email_vaildate",class:"error-style"})])]),e("div",R,[T,e("div",j,[r(t(i),{id:"password_vaildate",name:"password_vaildate",type:"password",class:"border border-black"}),r(t(u),{name:"password_vaildate",class:"error-style"})])])]),A]),_:1},8,["validation-schema"])]))}});export{Q as default};
