import{_ as W,B as X,L as Y}from"./loading.236f78c4.js";import{S as z,a as Z}from"./autoplay.min.2f2757d7.js";import{_ as F,d as w,o as s,c,e as t,a as l,w as r,u as E,F as b,b as I,D as h,h as p,B as $,r as D,j as m,E as y,G as U,p as O,f as j,I as ee,J,z as te,K as ae,L as V,M as oe,N as k,O as se,H as ue}from"./index.cb979ff8.js";import{p as ne}from"./product.b529c558.js";const re={class:"w-full"},le={class:"p-2 my-2 border rounded-lg md:hidden"},ce=p("\u5168\u90E8\u5546\u54C1"),ie={class:"hidden p-2 my-2 border rounded-lg md:justify-around md:flex-center lg:flex-col lg:border-none lg:space-y-4"},de=p("\u5168\u90E8\u5546\u54C1"),ge=w({__name:"Categroy",props:{categories:null,sortName:null,valueName:null},setup(e){return(v,i)=>{const u=D("router-link");return s(),c("main",re,[t("section",le,[l(E(Z),{breakpoints:{375:{slidesPerView:4,spaceBetween:0}}},{default:r(()=>[l(E(z),null,{default:r(()=>[l(u,{to:{name:"products"},class:"item"},{default:r(()=>[ce]),_:1})]),_:1}),(s(!0),c(b,null,I(e.categories,a=>(s(),h(E(z),{key:a.id},{default:r(()=>[l(u,{to:{name:"products",query:{categoryId:a.id}},class:"item"},{default:r(()=>[p($(a.name),1)]),_:2},1032,["to"])]),_:2},1024))),128))]),_:1})]),t("section",ie,[l(u,{to:{name:"products"},class:"item"},{default:r(()=>[de]),_:1}),(s(!0),c(b,null,I(e.categories,a=>(s(),h(u,{key:a.id,to:{name:"products",query:{categoryId:a.id,sort:e.sortName,value:e.valueName}},class:"item"},{default:r(()=>[p($(a.name),1)]),_:2},1032,["to"]))),128))])])}}}),_e=F(ge,[["__scopeId","data-v-7ff675be"]]);const me=e=>(O("data-v-78975488"),e=e(),j(),e),pe={class:"justify-between flex-center"},ye={class:"text-xl"},ve={class:"space-x-2 text-sm flex-center"},fe=me(()=>t("i",{class:"w-2.5 h-2.5 fa-solid fa-chevron-down"},null,-1)),he=p("\u9810\u8A2D"),Ce=p("\u4E0A\u67B6\u6642\u9593: \u7531\u65B0\u5230\u820A"),ke=p("\u4E0A\u67B6\u6642\u9593: \u7531\u820A\u5230\u65B0"),xe=p("\u50F9\u683C: \u7531\u9AD8\u81F3\u4F4E"),be=p("\u50F9\u683C: \u7531\u4F4E\u81F3\u9AD8"),$e=w({__name:"Sort",props:{categoryName:{type:String,default:"\u5168\u90E8\u5546\u54C1"}},setup(e){const v=U(),i=m(!1),u=m("\u5168\u90E8"),a=v.query;return a.value==="createdAt"?a.sort==="DESC"?u.value="\u4E0A\u67B6\u6642\u9593: \u7531\u65B0\u5230\u820A":u.value="\u4E0A\u67B6\u6642\u9593: \u7531\u820A\u5230\u65B0":a.value==="price"?a.sort==="DESC"?u.value="\u50F9\u683C: \u7531\u9AD8\u81F3\u4F4E":u.value="\u50F9\u683C: \u7531\u4F4E\u81F3\u9AD8":u.value="\u9810\u8A2D",(_,d)=>{const o=D("router-link");return s(),c("main",pe,[t("span",ye,$(e.categoryName),1),t("div",{onMouseenter:d[0]||(d[0]=g=>i.value=!0),onMouseleave:d[1]||(d[1]=g=>i.value=!1),class:"relative"},[t("button",ve,[t("span",null,$(u.value),1),fe]),t("div",{class:y(["absolute z-10 hidden w-40 h-auto p-2 space-y-1 bg-white border shadow-md right-2",{open:i.value}])},[l(o,{to:"products",class:"item"},{default:r(()=>[he]),_:1}),l(o,{to:{name:"products",query:{value:"createdAt",sort:"DESC"}},class:"item"},{default:r(()=>[Ce]),_:1}),l(o,{to:{name:"products",query:{value:"createdAt",sort:"ASC"}},class:"item"},{default:r(()=>[ke]),_:1}),l(o,{to:{name:"products",query:{value:"price",sort:"DESC"}},class:"item"},{default:r(()=>[xe]),_:1}),l(o,{to:{name:"products",query:{value:"price",sort:"ASC"}},class:"item"},{default:r(()=>[be]),_:1})],2)],32)])}}}),we=F($e,[["__scopeId","data-v-78975488"]]);const R=e=>(O("data-v-3f7b1834"),e=e(),j(),e),Ne={class:"grid grid-cols-2 gap-3 mt-4 lg:grid-cols-3 justify-items-center xl:gap-8 xl:grid-cols-4 xl:px-14"},Se=["onMouseenter","onMouseleave"],Ae={src:W,alt:""},Pe=["onClick"],Be=R(()=>t("div",{class:"h-10 p-2 bg-black w-44 md:w-56 opacity-30"},null,-1)),Ee=["onClick"],Ie=R(()=>t("div",{class:"h-10 p-2 bg-black w-44 md:w-56 opacity-30"},null,-1)),Fe=w({__name:"Cards",props:{cards:null},setup(e){const v=e,i=ee(),u=ae(),a=J();v.cards.forEach(o=>{o.isOpen=!1});async function _(o){try{if(!i.currentUser)return a.error("\u8ACB\u5148\u767B\u5165"),u.push("/signIn");const{data:g}=await V.addCart(o.id);o.Cart={productCount:1},i.carts.push(o),o.isCart=!0}catch(g){console.log(g)}}async function d(o){try{const{data:g}=await V.deleteCart(o.id);i.carts=i.carts.filter(f=>f.id!==o.id),o.isCart=!1}catch(g){console.log(g)}}return(o,g)=>{const f=D("router-link"),q=oe("src");return s(),c("main",Ne,[(s(!0),c(b,null,I(e.cards,n=>(s(),c("section",{key:n.id,class:"relative cursor-pointer",onMouseenter:x=>n.isOpen=!0,onMouseleave:x=>n.isOpen=!1},[l(f,{to:`/product/${n.id}`,class:"block overflow-hidden w-44 md:w-56 aspect-3/4"},{default:r(()=>[te(t("img",Ae,null,512),[[q,n.image]])]),_:2},1032,["to"]),n.isCart?(s(),c("div",{key:0,class:y(["absolute bottom-0 z-10 origin-bottom scale-y-0 opacity-0 cursor-pointer flex-center hover:bg-black",{ani:n.isOpen}]),onClick:x=>d(n)},[Be,t("span",{class:y(["absolute text-white opacity-0",{showtext:n.isOpen}])},"\u79FB\u9664\u8CFC\u7269\u8ECA",2)],10,Pe)):(s(),c("div",{key:1,class:y(["absolute bottom-0 z-10 origin-bottom scale-y-0 opacity-0 cursor-pointer flex-center hover:bg-black",{ani:n.isOpen}]),onClick:x=>_(n)},[Ie,t("span",{class:y(["absolute text-white opacity-0",{showtext:n.isOpen}])},"\u52A0\u5165\u8CFC\u7269\u8ECA",2)],10,Ee))],40,Se))),128))])}}}),De=F(Fe,[["__scopeId","data-v-3f7b1834"]]);const H=e=>(O("data-v-2b248c1b"),e=e(),j(),e),qe={"aria-label":"Page navigation example"},Le={class:"pagination"},Oe=H(()=>t("span",{"aria-hidden":"true"},"\xAB",-1)),je=H(()=>t("span",{"aria-hidden":"true"},"\xBB",-1)),Me=w({__name:"Pagination",props:{categoryNum:{type:String},currentPage:{type:Number,default:1},totalPage:{type:Array},previousPage:{type:Number},nextPage:{type:Number},sortName:{type:String},valueName:{type:String}},setup(e){return(v,i)=>{var a,_;const u=D("router-link");return s(),c("nav",qe,[t("ul",Le,[e.currentPage!==1?(s(),c("li",{key:0,class:y(["page-item",{disabled:e.currentPage===1}])},[l(u,{class:"page-link","aria-label":"Previous",to:{name:"products",query:{page:e.previousPage,categoryId:e.categoryNum,sort:e.sortName,value:e.valueName}}},{default:r(()=>[Oe]),_:1},8,["to"])],2)):k("",!0),(s(!0),c(b,null,I(e.totalPage,(d,o)=>(s(),c("li",{class:y(["page-item",{active:e.currentPage===d}]),key:o},[l(u,{class:"page-link",to:{name:"products",query:{page:d,categoryId:e.categoryNum,sort:e.sortName,value:e.valueName}}},{default:r(()=>[p($(d),1)]),_:2},1032,["to"])],2))),128)),e.currentPage!==((a=e.totalPage)==null?void 0:a.length)?(s(),c("li",{key:1,class:y(["page-item",{disabled:e.currentPage===((_=e.totalPage)==null?void 0:_.length)}])},[l(u,{class:"page-link","aria-label":"Next",to:{name:"products",query:{page:e.nextPage,categoryId:e.categoryNum,sort:e.sortName,value:e.valueName}}},{default:r(()=>[je]),_:1},8,["to"])],2)):k("",!0)])])}}}),ze=F(Me,[["__scopeId","data-v-2b248c1b"]]),Ve=t("title",null,"Life Style \u6240\u6709\u7522\u54C1",-1),Ue=t("meta",{key:"description",name:"description",content:"Life Style Products - JiangShuProfile"},null,-1),Je=t("meta",{key:"og:title",property:"og:title",content:"Life Style Products"},null,-1),Re=t("meta",{key:"og:description",property:"og:description",content:"Life Style Products - JiangShuProfile"},null,-1),He=t("meta",{key:"og:site_name",property:"og:site_name",content:"Life Style Products"},null,-1),Te=t("meta",{key:"og:type",property:"og:type",content:"Life Style type"},null,-1),Ge=t("meta",{key:"og:image",property:"og:image",content:"/image/shop01.jpg"},null,-1),Ke=t("meta",{key:"og:image:width",property:"og:image:width",content:"1200"},null,-1),Qe=t("meta",{key:"og:image:height",property:"og:image:height",content:"630"},null,-1),We=t("meta",{key:"og:image:alt",property:"og:image:alt",content:"Life Style Products"},null,-1),Xe={class:"flex flex-col px-4 bg-white lg:px-10 lg:py-10 lg:flex-row"},Ye={class:"justify-start lg:flex-col lg:w-1/5 flex-center"},Ze={class:"flex-1"},et={class:"space-y-20"},ut=w({__name:"products",setup(e){const v="https://profile.jiangshuuu.com/products",i=U(),u=m(),a=m(),_=m(),d=m(),o=m(),g=m(),f=m(),q=J(),n=m(!0),{page:x="",categoryId:T="",sort:G="",value:K=""}=i.query;M(x,T,G,K);async function M(N,S,A,P){try{n.value=!0;const{data:C}=await ne.getProducts(N,S,A,P);u.value=C.data.data,a.value=C.data.pagination,_.value=C.data.categories,d.value=S,o.value=A,g.value=P;const L=Number(i.query.categoryId),B=_.value.find(Q=>Q.id===L);B?f.value=B.name:f.value="\u5168\u90E8\u5546\u54C1",n.value=!1}catch{n.value=!1,q.error("\u7CFB\u7D71\u932F\u8AA4\u8ACB\u7A0D\u5019\u518D\u8A66")}}return se((N,S,A)=>{const{page:P="",categoryId:C="",sort:L="",value:B=""}=N.query;M(P,C,L,B),A()}),(N,S)=>n.value?(s(),h(Y,{key:0})):(s(),c(b,{key:1},[l(E(ue),null,{default:r(()=>[Ve,Ue,Je,t("meta",{key:"og:url",property:"og:url",content:v}),Re,He,Te,Ge,Ke,Qe,We]),_:1}),l(X),t("main",Xe,[t("section",Ye,[_.value?(s(),h(_e,{key:0,categories:_.value,"sort-name":o.value,"value-name":g.value},null,8,["categories","sort-name","value-name"])):k("",!0)]),t("section",Ze,[_.value?(s(),h(we,{key:0,"category-name":f.value},null,8,["category-name"])):k("",!0),t("div",et,[u.value?(s(),h(De,{key:0,cards:u.value},null,8,["cards"])):k("",!0),a.value&&a.value.pages.length>1?(s(),h(ze,{key:1,"category-num":d.value,"current-page":a.value.currentPage,"total-page":a.value.pages,"previous-page":a.value.prev,"next-page":a.value.next,"sort-name":o.value,"value-name":g.value},null,8,["category-num","current-page","total-page","previous-page","next-page","sort-name","value-name"])):k("",!0)])])])],64))}});export{ut as default};
