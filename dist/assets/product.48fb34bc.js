import{_ as I,B as j,L as S}from"./loading.26d99857.js";import{d as E,I as q,j as C,K as L,J as P,f as g,L as F,o as i,c as v,b as t,y as $,B as p,a as c,w as m,M as B,_ as T,m as V,D as y,N as A,G as x,F as R,h as w,E as U}from"./index.583c14a6.js";import{p as M}from"./product.6519fc19.js";const z={class:"w-full pt-6 md:flex md:space-x-6"},G={class:"lg:w-1/2 flex-center"},H={class:"w-48 overflow-hidden aspect-3/4 md:w-72"},J={class:"object-cover",src:I,alt:""},K={class:"flex flex-col justify-around w-full lg:w-1/2"},O={class:"border-b-[1px] space-y-2"},Q={class:"text-2xl font-bold"},W={class:"text-sm line-clamp-6 line-clamp"},X=t("br",null,null,-1),Y={class:"flex items-end pt-4 space-x-2"},Z={class:"text-xl text-primary"},tt={class:"pb-1 text-sm text-gray-400 line-through"},et={class:"space-y-5"},at=["disabled"],st=["disabled"],ot={class:"space-x-2 flex-center"},ct=t("p",{class:""},"\u5206\u4EAB\u5230",-1),lt=E({__name:"Header",props:{data:null},setup(e){const r=q(),s=C(!1),l=L(),u=P(),h=`https://profile.jiangshuuu.com${u.currentRoute.value.fullPath}`;function n(){l.success("\u6210\u529F\u8907\u88FD\u9023\u7D50\uFF01")}async function d(a){try{if(s.value=!0,!r.currentUser)return l.error("\u8ACB\u5148\u767B\u5165"),u.push("/signIn");const{data:o}=await B.addCart(a.id);a.Cart={productCount:1},r.carts.push(a),a.isCart=!0,s.value=!1}catch(o){s.value=!1,console.log(o)}}async function _(a){try{s.value=!0;const{data:o}=await B.deleteCart(a.id);r.carts=r.carts.filter(f=>f.id!==a.id),a.isCart=!1,s.value=!1}catch(o){s.value=!1,console.log(o)}}return(a,o)=>{const f=g("Icon"),b=g("ShareNetwork"),N=F("src"),k=F("clipboard");return i(),v("section",z,[t("section",G,[t("div",H,[$(t("img",J,null,512),[[N,e.data.image]])])]),t("section",K,[t("div",O,[t("h2",Q,p(e.data.title),1),t("p",W,p(e.data.short_intro),1),X]),t("div",null,[t("div",Y,[t("p",Z,"NT$"+p(e.data.price),1),t("p",tt,"NT$"+p(e.data.og_price),1)])]),t("div",et,[e.data.isCart?(i(),v("button",{key:1,onClick:o[1]||(o[1]=D=>_(e.data)),disabled:s.value,class:"w-full p-2 px-4 text-white bg-red-500 rounded-lg"},"\u79FB\u51FA\u8CFC\u7269\u8ECA",8,st)):(i(),v("button",{key:0,onClick:o[0]||(o[0]=D=>d(e.data)),disabled:s.value,class:"w-full p-2 px-4 text-white rounded-lg bg-secondary"},"\u52A0\u5165\u8CFC\u7269\u8ECA",8,at)),t("div",ot,[ct,c(b,{network:"line",url:h,title:e.data.title,description:e.data.description,quote:e.data.short_intro,hashtags:"clothes"},{default:m(()=>[c(f,{icon:"bi:line",class:"text-[#06C755] w-7 h-7"})]),_:1},8,["title","description","quote"]),c(b,{network:"facebook",url:h,title:e.data.title,description:e.data.description,quote:e.data.short_intro,hashtags:"clothes"},{default:m(()=>[c(f,{icon:"akar-icons:facebook-fill",class:"text-[#4267B2] w-7 h-7"})]),_:1},8,["title","description","quote"]),$((i(),v("button",null,[c(f,{icon:"akar-icons:link-chain",class:"text-[#4267a1] w-7 h-7"})])),[[k,h,"copy"],[k,n,"success"]])])])])])}}});const nt={class:"w-full h-full px-4 space-y-6 md:px-6 lg:max-w-[1280px] lg:mx-auto"},it={class:"justify-around text-lg flex-center"},ut=w(" \u5546\u54C1\u63CF\u8FF0"),rt=w(" \u4E86\u89E3\u66F4\u591A"),dt=w(" \u9001\u8CA8\u4ED8\u6B3E\u65B9\u5F0F"),_t=w(" \u9867\u5BA2\u8A55\u50F9 "),mt={class:"p-4 my-4 flex-center"},ht=E({__name:"product",setup(e){const r=U(),{id:s}=r.params,l=C(),u=C();V(()=>{h(s)});async function h(n){try{u.value=!0;const{data:d}=await M.getProduct(n);l.value=d.data,u.value=!1}catch(d){u.value=!1,console.log(d)}}return(n,d)=>{const _=g("router-link"),a=g("router-view");return u.value?(i(),y(S,{key:0})):(i(),v(R,{key:1},[c(j),t("main",nt,[l.value?(i(),y(lt,{key:0,data:l.value.product},null,8,["data"])):A("",!0),t("section",null,[t("div",it,[c(_,{to:{name:"description"},class:x(["available",{active:n.$route.name==="description"}])},{default:m(()=>[ut]),_:1},8,["class"]),c(_,{to:{name:"more"},class:x(["available",{active:n.$route.name==="more"}])},{default:m(()=>[rt]),_:1},8,["class"]),c(_,{to:{name:"payment"},class:x(["available",{active:n.$route.name==="payment"}])},{default:m(()=>[dt]),_:1},8,["class"]),c(_,{to:{name:"comment"},class:x(["available",{active:n.$route.name==="comment"}])},{default:m(()=>[_t]),_:1},8,["class"])]),t("div",mt,[l.value?(i(),y(a,{key:0,data:l.value.product},null,8,["data"])):A("",!0)])])])],64))}}}),xt=T(ht,[["__scopeId","data-v-513e1e22"]]);export{xt as default};
