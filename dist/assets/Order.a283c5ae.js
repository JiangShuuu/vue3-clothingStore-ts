import{_ as O,d as b,K as B,j as D,m as k,M as f,f as g,o as c,c as a,b as e,a as _,w,F as h,r as v,h as A,B as o,G as m,p as I,e as S}from"./index.583c14a6.js";const r=i=>(I("data-v-3a164dfd"),i=i(),S(),i),T=r(()=>e("h1",{class:"mb-4 text-xl text-primary"},"\u8A02\u55AE\u8A18\u9304",-1)),N={key:0,class:"w-full h-[400px] flex-center"},$=A(" \u5C1A\u672A\u65B0\u589E\u4EFB\u4F55\u8A02\u55AE, \u8ACB\u81F3"),j=A("\u5546\u54C1\u5340"),V=A("\u9078\u8CFC "),z={key:1,class:"min-h-[400px]"},L={class:"w-full border-separate border-spacing-5"},M=r(()=>e("thead",null,[e("tr",null,[e("th",null,"id"),e("th",null,"\u6536\u4EF6\u4EBA\u540D\u5B57"),e("th",null,"\u6536\u4EF6\u4EBA\u96FB\u8A71"),e("th",null,"\u6536\u4EF6\u4EBA\u5730\u5740"),e("th",null,"\u8A02\u55AE\u91D1\u984D"),e("th",null,"\u8A02\u55AE\u5275\u5EFA\u65E5\u671F"),e("th",null,"\u522A\u9664\u8A02\u55AE"),e("th",null,"\u8A73\u7D30")])],-1)),P={class:"text-center align-middle"},G={class:"text-center align-middle"},K={class:"text-center align-middle"},W={class:"text-center align-middle"},q={class:"text-center align-middle"},H={class:"text-center align-middle"},J=["onClick"],Q={class:"relative"},R=["onClick"],U={class:"grid grid-cols-3 gap-4"},X={class:"flex justify-between px-2"},Y={class:"flex space-x-2"},Z={class:"w-16 h-16 overflow-hidden border"},ee=["src"],te=r(()=>e("p",{class:"text-sm"},"\u9632\u98A8\u4E0A\u8863",-1)),se={class:"flex flex-col items-end text-sm"},ne={class:"flex"},oe={class:"flex"},le=r(()=>e("p",{class:"mr-1"},"\u55AE\u50F9",-1)),ue={class:"flex"},ce=r(()=>e("p",{class:"mr-1"},"\u7E3D\u8A08",-1)),ae=["onClick"],de=b({__name:"Order",setup(i){const x=B(),l=D();k(()=>{C()});async function C(){try{const{data:s}=await f.getOrders();l.value=s.data.orders,l.value.forEach(u=>{u.isOpen=!1})}catch(s){x.error("\u7CFB\u7D71\u932F\u8AA4\u8ACB\u7A0D\u5F8C\u518D\u8A66"),console.log(s)}}async function F(s){try{const{data:u}=await f.deleteOrder(s);l.value=l.value.filter(d=>d.id!==s)}catch(u){x.error("\u7CFB\u7D71\u932F\u8AA4\u8ACB\u7A0D\u5F8C\u518D\u8A66"),console.log(u)}}const E=s=>{const u=s.replace(/ /g,"T"),d=new Date(u);return d.toString()==="Invalid Date"?"":d.toLocaleDateString("zh-TW",{day:"2-digit",month:"2-digit",year:"numeric"}).replace(/\//g,"-")};return(s,u)=>{const d=g("router-link"),p=g("Icon");return c(),a(h,null,[T,l.value&&l.value.length<1?(c(),a("main",N,[e("section",null,[$,_(d,{to:"/products",class:"text-2xl text-primary"},{default:w(()=>[j]),_:1}),V])])):(c(),a("main",z,[e("table",L,[M,(c(!0),a(h,null,v(l.value,(t,y)=>(c(),a("tbody",{key:y},[e("tr",null,[e("td",P,o(t.id),1),e("td",G,o(t.name),1),e("td",K,o(t.phone),1),e("td",W,o(t.address),1),e("td",q,o(t.total),1),e("td",H,o(E(t.createdAt)),1),e("td",{class:"relative",onClick:n=>F(t.id)},[_(p,{icon:"icon-park-outline:delete-five",class:"absolute w-5 h-5 text-gray-500 cursor-pointer top-0.5 right-12"})],8,J),e("td",Q,[e("button",{class:"absolute focus:outline-none top-1 right-6",onClick:n=>t.isOpen=!t.isOpen},[_(p,{icon:"ant-design:down-outlined",class:m({"burger-menu--active":t.isOpen})},null,8,["class"])],8,R)])]),e("tr",null,[e("td",{colspan:"8",class:m(["menu",{"menu-open":t.isOpen}])},[e("section",U,[(c(!0),a(h,null,v(t.OrderProducts,n=>(c(),a("section",{key:n.id,class:"py-2 border-b"},[e("div",X,[e("div",Y,[e("div",Z,[e("img",{src:n.image,class:"object-cover",alt:""},null,8,ee)]),te]),e("div",se,[e("div",ne,[e("p",null,"\u6578\u91CF:"+o(n.Orderlist.productCount),1)]),e("div",oe,[le,e("p",null,"NT$"+o(n.price),1)]),e("div",ue,[ce,e("p",null,"NT$"+o(n.price*n.Orderlist.productCount),1)])])])]))),128))]),e("div",{class:"w-full p-4 cursor-pointer flex-center",onClick:n=>t.isOpen=!t.isOpen},[_(p,{icon:"ant-design:up-outlined",class:"w-4 h-4"})],8,ae)],2)])]))),128))])]))],64)}}}),ie=O(de,[["__scopeId","data-v-3a164dfd"]]);export{ie as default};
